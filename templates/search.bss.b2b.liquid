{% layout none %}{% paginate search.results by 1000 %}[{%- comment %}<locksmith:1891>{% endcomment -%}{%- assign locksmith_dd38_forloop__size = 0 %}{% for item in search.results %}{% capture var %}{% render 'locksmith-variables', scope: 'subject', subject: item, subject_parent: search, variable: 'transparent' %}{% endcapture %}{% if var == 'true' %}{% assign locksmith_dd38_forloop__size = locksmith_dd38_forloop__size | plus: 1 %}{% endif %}{% endfor %}{% assign locksmith_dd38_forloop__index = nil -%}{%- comment %}</locksmith:1891>{% endcomment -%}{% for item in search.results %}{%- comment %}<locksmith:f23c>{% endcomment -%}{%- capture var %}{% render 'locksmith-variables', scope: 'subject', subject: item, subject_parent: search, variable: 'transparent' %}{% endcapture %}{% if var == "true" %}{% if locksmith_dd38_forloop__index == nil %}{% assign locksmith_dd38_forloop__index = 1 %}{% assign locksmith_dd38_forloop__index0 = 0 %}{% else %}{% assign locksmith_dd38_forloop__index = locksmith_dd38_forloop__index | plus: 1 %}{% assign locksmith_dd38_forloop__index0 = locksmith_dd38_forloop__index0 | plus: 1 %}{% endif %}{% if locksmith_dd38_forloop__index == 1 %}{% assign locksmith_dd38_forloop__first = true %}{% else %}{% assign locksmith_dd38_forloop__first = false %}{% endif %}{% if locksmith_dd38_forloop__index == locksmith_dd38_forloop__size %}{% assign locksmith_dd38_forloop__last = true %}{% else %}{% assign locksmith_dd38_forloop__last = false %}{% endif %}{% assign locksmith_dd38_forloop__rindex = locksmith_dd38_forloop__size | minus: locksmith_dd38_forloop__index | minus: 1 %}{% assign locksmith_dd38_forloop__rindex0 = locksmith_dd38_forloop__size | minus: locksmith_dd38_forloop__index0 | minus: 1 %}{% else %}{% continue %}{% endif -%}{%- comment %}</locksmith:f23c>{% endcomment -%}{ "id":{{ item.id | json }},  "title": {{ item.title | json}}, "tags": {{ item.tags | json }},"handle":{{ item.handle | json }},  "variants": [{% for variant in item.variants %}{  "id": {{ variant.id | json }},  "taxable" : {{ variant.taxable | json}}, "title":{{ variant.title | json }},  "price": {{ variant.price | json }},  "compare_at_price":{{ variant.compare_at_price | json }},  "available": {{ variant.available | json }},  "unit_price":{{variant.unit_price | json}},  "base_measure":{{variant.unit_price_measurement.reference_value | json}},  "quantity_value" :{{variant.unit_price_measurement.quantity_value | json}}}{% unless forloop.last %},{% endunless %}{% endfor %}  ],  "available":{{ item.available | json }},  "compare_at_price_max":{{ item.compare_at_price_max | json }},  "compare_at_price_min":{{ item.compare_at_price_min | json }},  "price":{{ item.price | json }},  "price_max":{{ item.price_max | json }},  "price_min":{{ item.price_min | json }},  "collections": [{%- comment %}<locksmith:72d6>{% endcomment -%}{%- assign locksmith_56a2_forloop__size = 0 %}{% for collection in item.collections %}{% capture var %}{% render 'locksmith-variables', scope: 'subject', subject: collection, subject_parent: item, variable: 'transparent' %}{% endcapture %}{% if var == 'true' %}{% assign locksmith_56a2_forloop__size = locksmith_56a2_forloop__size | plus: 1 %}{% endif %}{% endfor %}{% assign locksmith_56a2_forloop__index = nil -%}{%- comment %}</locksmith:72d6>{% endcomment -%}{% for collection in item.collections %}{%- comment %}<locksmith:42f1>{% endcomment -%}{%- capture var %}{% render 'locksmith-variables', scope: 'subject', subject: collection, subject_parent: item, variable: 'transparent' %}{% endcapture %}{% if var == "true" %}{% if locksmith_56a2_forloop__index == nil %}{% assign locksmith_56a2_forloop__index = 1 %}{% assign locksmith_56a2_forloop__index0 = 0 %}{% else %}{% assign locksmith_56a2_forloop__index = locksmith_56a2_forloop__index | plus: 1 %}{% assign locksmith_56a2_forloop__index0 = locksmith_56a2_forloop__index0 | plus: 1 %}{% endif %}{% if locksmith_56a2_forloop__index == 1 %}{% assign locksmith_56a2_forloop__first = true %}{% else %}{% assign locksmith_56a2_forloop__first = false %}{% endif %}{% if locksmith_56a2_forloop__index == locksmith_56a2_forloop__size %}{% assign locksmith_56a2_forloop__last = true %}{% else %}{% assign locksmith_56a2_forloop__last = false %}{% endif %}{% assign locksmith_56a2_forloop__rindex = locksmith_56a2_forloop__size | minus: locksmith_56a2_forloop__index | minus: 1 %}{% assign locksmith_56a2_forloop__rindex0 = locksmith_56a2_forloop__size | minus: locksmith_56a2_forloop__index0 | minus: 1 %}{% else %}{% continue %}{% endif -%}{%- comment %}</locksmith:42f1>{% endcomment -%}{{ collection.id }}{% unless locksmith_56a2_forloop__last %},{% endunless %}{% endfor %}  ]}{% unless locksmith_dd38_forloop__last %},{% endunless %}{% endfor %}]{% endpaginate %}
